<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GENBOT V7</title>
    <style>
        body { font-family: Arial; background: #f4f4f9; display:flex; justify-content:center; align-items:center; height:100vh; margin:0;}
        .chat-container { background:#fff; width:400px; height:600px; box-shadow:0 0 15px rgba(0,0,0,0.2); border-radius:10px; display:flex; flex-direction:column; overflow:hidden;}
        .header { background:#4CAF50; color:white; padding:15px; text-align:center; font-size:24px; }
        .messages { flex:1; padding:10px; overflow-y:auto; }
        .input-box { display:flex; border-top:1px solid #ccc; }
        .input-box input { flex:1; padding:10px; border:none; outline:none; }
        .input-box button { padding:10px 15px; border:none; background:#4CAF50; color:white; cursor:pointer; }
        .message { margin:5px 0; }
        .user { text-align:right; color:#333; }
        .bot { text-align:left; color:#4CAF50; }
    </style>
</head>
<body>

<div class="chat-container">
    <div class="header">GENBOT V7</div>
    <div class="messages" id="messages"></div>
    <div class="input-box">
        <input type="text" id="userInput" placeholder="Type a message...">
        <button onclick="sendMessage()">Send</button>
    </div>
</div>

<script>
async function sendMessage() {
    const input = document.getElementById('userInput');
    const msg = input.value;
    if(!msg) return;

    // Display user message
    const messagesDiv = document.getElementById('messages');
    const userMsgDiv = document.createElement('div');
    userMsgDiv.className = 'message user';
    userMsgDiv.innerText = msg;
    messagesDiv.appendChild(userMsgDiv);
    input.value = '';
    messagesDiv.scrollTop = messagesDiv.scrollHeight;

    // Send message to backend
    const response = await fetch('http://127.0.0.1:5000/chat', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ message: msg })
    });
    const data = await response.json();

    // Display bot response
    const botMsgDiv = document.createElement('div');
    botMsgDiv.className = 'message bot';
    botMsgDiv.innerText = data.reply;
    messagesDiv.appendChild(botMsgDiv);
    messagesDiv.scrollTop = messagesDiv.scrollHeight;
}
</script>

</body>
</html>
